import java.net.*;
import java.nio.charset.StandardCharsets;
public class DhcpClient {
 public static String toMacAddress(byte mac[]){
 StringBuilder sb = new StringBuilder();
 for (int i = 0; i < mac.length; i++) {
 sb.append(String.format("%02X%s", mac[i], (i < mac.length - 1) ? "-" :""));
 }
 return new String(sb);
 }
 public static void main(String args[]) throws Exception {
 
 NetworkInterface ni = NetworkInterface.getByName("wlp3s0");
 byte[] mac = ni.getHardwareAddress();
 byte buffer[]=(toMacAddress(mac)+" ").getBytes();
 InetAddress IPAddress = InetAddress.getByName("localhost");
 DatagramPacket packet = new DatagramPacket(buffer, buffer.length, IPAddress, 4444);
 packet.setData(buffer);
 DatagramSocket client = new DatagramSocket();
 client.send(packet);
 client.receive(packet);
 String s = new String(packet.getData());
 System.out.println("\nThe Logical Address is :" + s.trim());
 }
}


import java.net.*;
import java.util.Random;
public class DhcpServer {
 public static void main(String args[]) throws Exception {
 DatagramSocket server = new DatagramSocket(4444
 while (true) {
 byte[] buffer = new byte[1024]; 
 DatagramPacket packet = new DatagramPacket(buffer, buffer.length);
 server.receive(packet);
 System.out.print("Server allocating IP Address to: "+new 
String(packet.getData()).trim()+" as ");
 String ip[]= 
{"192.168.1.1","192.168.1.2","192.168.1.3","192.168.1.4","192.168.1.5"};
 Random r=new Random();
 packet.setData((ip[r.nextInt(5)]+" ").getBytes());
 System.out.print(new String(packet.getData()).trim()+" lease time->24hrs\n");
 server.send(packet);
 }
 }
}
